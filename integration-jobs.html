<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>InEngine.NET</title>

        <link rel="stylesheet" href="http://inengine.net/bower_components/bootswatch\paper/bootstrap.min.css">
        <link rel="stylesheet" href="http://inengine.net/bower_components/font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" href="http://inengine.net/bower_components/highlightjs/styles/dark.css">
        <link rel="stylesheet" href="http://inengine.net/css/main.css">
    </head>
    <body>

        <header class="navbar navbar-default navbar-fixed-top">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu-navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="fa fa-fw fa-bars"></span>
                </button>
                <a class="navbar-brand" href="http://inengine.net/">
                    InEngine.NET
                    <small class="hidden-xs hidden-sm">
                        An asynchronous job scheduling server.
                    </small>
                </a>
            </div>
                            <div id="menu-navbar" class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                            <li class="">
        <a href="http://inengine.net/index.html">
            <span class="fa fa-fw fa-home"></span>
            <span>Welcome</span>
        </a>
    </li>
    <li class="">
        <a href="http://inengine.net/getting-started.html">
            <span class="fa fa-fw fa-power-off"></span>
            <span>Getting Started</span>
        </a>
    </li>
    <li class="">
        <a href="http://inengine.net/configuration.html">
            <span class="fa fa-fw fa-gear"></span>
            <span>Configuration</span>
        </a>
    </li>
    <li class="active">
        <a href="http://inengine.net/integration-jobs.html">
            <span class="fa fa-fw fa-exchange"></span>
            <span>Integration Jobs</span>
        </a>
    </li>
    <li class="">
        <a href="http://inengine.net/web-api.html">
            <span class="fa fa-fw fa-cloud"></span>
            <span>Web API</span>
        </a>
    </li>
    <li class="">
        <a href="http://inengine.net/change-log.html">
            <span class="fa fa-fw fa-refresh"></span>
            <span>Change Log</span>
        </a>
    </li>

                    </ul>
                </div>
                    </header>

        <main class="container-fluid">
            <div class="row">

                                    <nav id="sidebar" class="col-sm-3 col-lg-2" role="navigation">
                        <ul class="nav nav-pills nav-stacked">
                                <li class="">
        <a href="http://inengine.net/index.html">
            <span class="fa fa-fw fa-home"></span>
            <span>Welcome</span>
        </a>
    </li>
    <li class="">
        <a href="http://inengine.net/getting-started.html">
            <span class="fa fa-fw fa-power-off"></span>
            <span>Getting Started</span>
        </a>
    </li>
    <li class="">
        <a href="http://inengine.net/configuration.html">
            <span class="fa fa-fw fa-gear"></span>
            <span>Configuration</span>
        </a>
    </li>
    <li class="active">
        <a href="http://inengine.net/integration-jobs.html">
            <span class="fa fa-fw fa-exchange"></span>
            <span>Integration Jobs</span>
        </a>
    </li>
    <li class="">
        <a href="http://inengine.net/web-api.html">
            <span class="fa fa-fw fa-cloud"></span>
            <span>Web API</span>
        </a>
    </li>
    <li class="">
        <a href="http://inengine.net/change-log.html">
            <span class="fa fa-fw fa-refresh"></span>
            <span>Change Log</span>
        </a>
    </li>

                        </ul>
                    </nav>
                
                <section id="content" class="col-sm-offset-3 col-lg-offset-2 col-sm-9 col-lg-10">
                    <ul class="status-badges pull-right list-unstyled list-inline">
                        <li>
                            <a href="https://ci.appveyor.com/project/ethanhann/inengine-net">
                                <img src="https://ci.appveyor.com/api/projects/status/github/ethanhann/inengine.net?branch=master&svg=true">
                            </a>
                        </li>
                    </ul>
                    <h1>Integration Jobs</h1>
<p>Integration jobs can do anything, not just retrieve, transform, and persist data.
They can also be made to send an email, run a console command, call some third party library, or anything else that can 
be done in a .NET application.</p>
<h2>Built-in Job Types</h2>
<p><strong>InEngine.NET</strong> comes with a few built-in integration jobs defined in <em>IntegrationEngine.Core.Jobs</em>.
They are <strong>Integration Job</strong>, <strong>Mail Job</strong>, <strong>Elasticsearch Job</strong>, <strong>Log Job</strong>, and <strong>SQL Job</strong>.</p>
<h3>Integration Job</h3>
<ul>
<li>Implement the <em>IIntegrationJob</em> interface to create a basic integration job.</li>
<li>An integration job is a C# class that implements the <em>IIntegrationJob</em> interface.</li>
<li>The interface has one argumentless method called <em>Run</em> which is executed when the job is triggered.</li>
<li>All other jobs must implement <em>IIntegrationJob</em> directly or indirectly.</li>
</ul>
<h3>Mail Job</h3>
<ul>
<li>Implement the <em>IMailJob</em> interface to create a mail job.</li>
<li>The <em>MailClient</em> property of the <em>IMailJob</em> is automatically instantiated and configured with the mail settings in <a href="configuration.html">IntegrationEngine.json</a>.</li>
<li>The <em>MailClient</em>'s send method can be used to send an <em>System.Net.Mail.MailMessage</em>.</li>
</ul>
<h3>Elasticsearch Job</h3>
<ul>
<li>Implement the <em>IElasticsearchJob</em> interface to create an Elasticsearch Job.</li>
<li>The <em>ElasticClient</em> property of the <em>IElasticsearchJob</em> is automatically instantiated and configured with the Elasticsearch settings in <a href="configuration.html">IntegrationEngine.json</a>.</li>
<li>The <em>ElasticClient</em> is an instance of <em>Nest.ElasticClient</em>. </li>
<li>See the NEST <a href="http://nest.azurewebsites.net/nest/quick-start.html">quick start</a> for information on how to use it.</li>
</ul>
<h3>Log Job</h3>
<ul>
<li>Implement the <em>ILogJob</em> interface to create a log job.</li>
<li>The <em>Log</em> property of the <em>ILogJob</em> is automatically instantiated and configured with the 
<a href="http://logging.apache.org/log4net/">log4net</a> settings in the host applications App.config file.</li>
<li>The <em>Log</em> instance can be configured to log to a variety of <a href="logging.apache.org/log4net/release/features.html#appenders">logging targets</a>.</li>
<li>Messages and exception can be logged according to their <a href="http://logging.apache.org/log4net/release/manual/introduction.html#hierarchy">severity</a>.</li>
</ul>
<h3>SQL Job</h3>
<ul>
<li>Implement the <em>ISqlJob</em> interface to create a sql job.</li>
<li>The <em>DbContext</em> property of the <em>ISqlJob</em> is automatically instantiated and configured with the Database settings in <a href="configuration.html">IntegrationEngine.json</a>.</li>
<li>The <em>Query</em> property of the <em>ISqlJob</em> must be populated with a valid SQL command before the <em>RunQuery<T></em> method is called.</li>
<li>The generic parameter in the <em>RunQuery<T></em> method is a class that represents a record returned from the database.</li>
<li>The <em>RunQuery<T></em> method returns a <em>IList<T></em> collection of records from the database.</li>
</ul>
<h4>Concrete SQL Job Class</h4>
<p>There is also concrete class defined in <em>IntegrationEngine.Core.Jobs</em> called <em>SqlJob</em>. </p>
<ul>
<li>It implements <em>ISqlJob</em>, <em>IMailJob</em>, amd <em>ILogJob</em>.</li>
<li>A class derived from <em>SqlJob</em> will run whatever query is assigned to its <em>Query</em> property by default.</li>
<li>However, both the <em>RunQuery<T></em> and <em>Run</em> methods are marked as virtual and thus can be overridden.</li>
<li>A common practice is to override the <em>Run</em> method, call <em>RunQuery<T></em>, examine the results, then send a notification email.</li>
<li>The <em>Log</em> property can be used to log when the query fails.</li>
</ul>
                </section>

            </div>
        </main>

        <footer>
            <div class="container-fluid">
                <p class="text-muted">
                    author <a href="http://www.ethanhann.com" title="Author">Ethan Hann</a>
                </p>
            </div>
        </footer>

        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="bower_components/jquery/dist/jquery.min.js"></script>
        <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
        <script src="bower_components/highlightjs/highlight.pack.js"></script>

        <script>
            $(function() {
                $("section>h1").wrap('<div class="page-header" />');
                // Syntax highlighting
                hljs.initHighlightingOnLoad();
            });
        </script>

    </body>
</html>
